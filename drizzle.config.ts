// ======================================================================
// ⚙️ КОНФИГУРАЦИЯ DRIZZLE KIT
// ======================================================================
//
// Этот файл настраивает drizzle-kit - инструмент для миграций.
// 
// Команды drizzle-kit:
// npx drizzle-kit generate - создать файлы миграции из схемы
// npx drizzle-kit migrate  - применить миграции к базе данных
// npx drizzle-kit studio   - открыть визуальный редактор БД
// npx drizzle-kit push     - применить схему напрямую (без миграций)
// ======================================================================

import { defineConfig } from 'drizzle-kit';

export default defineConfig({
  // Путь к файлу схемы базы данных
  schema: './db/schema.ts',
  
  // Папка для хранения файлов миграций
  out: './drizzle',
  
  // Тип базы данных
  dialect: 'postgresql',
  
  // Настройки подключения к БД
  dbCredentials: {
    // URL подключения из переменной окружения
    url: process.env.DATABASE_URL!,
  },
  
  // Подробный вывод в консоль
  verbose: true,
  
  // Строгий режим (спрашивает подтверждение)
  strict: true,
});

